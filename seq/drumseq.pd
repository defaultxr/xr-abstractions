#N canvas 0 0 2560 1566 10;
#X obj 69 210 inlet;
#X obj 70 327 outlet;
#X obj 121 327 outlet;
#X obj 172 327 outlet;
#X obj 223 327 outlet;
#X obj 274 327 outlet;
#X obj 113 115 tgl 13 0 \$0-1x0s \$0-1x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 100 115 tgl 13 0 \$0-0x0s \$0-0x0r empty -14 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 139 115 tgl 13 0 \$0-3x0s \$0-3x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 126 115 tgl 13 0 \$0-2x0s \$0-2x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 165 115 tgl 13 0 \$0-5x0s \$0-5x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 152 115 tgl 13 0 \$0-4x0s \$0-4x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 191 115 tgl 13 0 \$0-7x0s \$0-7x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 178 115 tgl 13 0 \$0-6x0s \$0-6x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 217 115 tgl 13 0 \$0-9x0s \$0-9x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 204 115 tgl 13 0 \$0-8x0s \$0-8x0r empty 17 7 0 10 #fc2828 #000000 #fc2828 0 1;
#X obj 243 115 tgl 13 0 \$0-11x0s \$0-11x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 230 115 tgl 13 0 \$0-10x0s \$0-10x0r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 269 115 tgl 13 0 \$0-13x0s \$0-13x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 256 115 tgl 13 0 \$0-12x0s \$0-12x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 295 115 tgl 13 0 \$0-15x0s \$0-15x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 282 115 tgl 13 0 \$0-14x0s \$0-14x0r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 113 128 tgl 13 0 \$0-1x1s \$0-1x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 100 128 tgl 13 0 \$0-0x1s \$0-0x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 139 128 tgl 13 0 \$0-3x1s \$0-3x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 126 128 tgl 13 0 \$0-2x1s \$0-2x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 165 128 tgl 13 0 \$0-5x1s \$0-5x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 152 128 tgl 13 0 \$0-4x1s \$0-4x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 191 128 tgl 13 0 \$0-7x1s \$0-7x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 178 128 tgl 13 0 \$0-6x1s \$0-6x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 217 128 tgl 13 0 \$0-9x1s \$0-9x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 204 128 tgl 13 0 \$0-8x1s \$0-8x1r empty 17 7 0 10 #fc2828 #000000 #fc2828 0 1;
#X obj 243 128 tgl 13 0 \$0-11x1s \$0-11x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 230 128 tgl 13 0 \$0-10x1s \$0-10x1r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 269 128 tgl 13 0 \$0-13x1s \$0-13x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 256 128 tgl 13 0 \$0-12x1s \$0-12x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 295 128 tgl 13 0 \$0-15x1s \$0-15x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 282 128 tgl 13 0 \$0-14x1s \$0-14x1r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 113 141 tgl 13 0 \$0-1x2s \$0-1x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 100 141 tgl 13 0 \$0-0x2s \$0-0x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 139 141 tgl 13 0 \$0-3x2s \$0-3x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 126 141 tgl 13 0 \$0-2x2s \$0-2x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 165 141 tgl 13 0 \$0-5x2s \$0-5x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 152 141 tgl 13 0 \$0-4x2s \$0-4x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 191 141 tgl 13 0 \$0-7x2s \$0-7x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 178 141 tgl 13 0 \$0-6x2s \$0-6x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 217 141 tgl 13 0 \$0-9x2s \$0-9x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 204 141 tgl 13 0 \$0-8x2s \$0-8x2r empty 17 7 0 10 #fc2828 #000000 #fc2828 0 1;
#X obj 243 141 tgl 13 0 \$0-11x2s \$0-11x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 230 141 tgl 13 0 \$0-10x2s \$0-10x2r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 269 141 tgl 13 0 \$0-13x2s \$0-13x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 256 141 tgl 13 0 \$0-12x2s \$0-12x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 295 141 tgl 13 0 \$0-15x2s \$0-15x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 282 141 tgl 13 0 \$0-14x2s \$0-14x2r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 113 154 tgl 13 0 \$0-1x3s \$0-1x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 100 154 tgl 13 0 \$0-0x3s \$0-0x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 139 154 tgl 13 0 \$0-3x3s \$0-3x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 126 154 tgl 13 0 \$0-2x3s \$0-2x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 165 154 tgl 13 0 \$0-5x3s \$0-5x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 152 154 tgl 13 0 \$0-4x3s \$0-4x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 191 154 tgl 13 0 \$0-7x3s \$0-7x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 178 154 tgl 13 0 \$0-6x3s \$0-6x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 217 154 tgl 13 0 \$0-9x3s \$0-9x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 204 154 tgl 13 0 \$0-8x3s \$0-8x3r empty 17 7 0 10 #fc2828 #000000 #fc2828 0 1;
#X obj 243 154 tgl 13 0 \$0-11x3s \$0-11x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 230 154 tgl 13 0 \$0-10x3s \$0-10x3r empty 17 7 0 10 #a0a0a0 #000000 #fc2828 0 1;
#X obj 269 154 tgl 13 0 \$0-13x3s \$0-13x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 256 154 tgl 13 0 \$0-12x3s \$0-12x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 295 154 tgl 13 0 \$0-15x3s \$0-15x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 282 154 tgl 13 0 \$0-14x3s \$0-14x3r empty 17 7 0 10 #e0e0e0 #000000 #fc2828 0 1;
#X obj 105 210 r ds2;
#X floatatom 265 100 2 0 99 0 - \$0-vpatc \$0-view-pattern 0;
#X obj 279 100 bng 15 250 50 0 \$0-go empty go 1 7 0 10 #00fc04 #000000 #000000;
#X obj 205 100 bng 15 250 50 0 \$0-shrink empty -- 1 7 0 10 #f8fc00 #000000 #000000;
#X obj 220 100 bng 15 250 50 0 \$0-expand empty ++ 1 8 0 10 #f8fc00 #000000 #000000;
#X floatatom 294 100 2 0 99 0 - \$0-playpatc \$0-play-pattern 0;
#X obj 235 100 bng 15 250 50 0 \$0-back empty << 1 8 0 10 #00fc04 #000000 #000000;
#X obj 250 100 bng 15 250 50 0 \$0-forward empty >> 1 8 0 10 #00fc04 #000000 #000000;
#X obj 276 100 cnv 2 2 2 empty \$0-co 16/32 -31 -5 0 10 #fcfcfc #fc2828 0;
#X obj 306 100 cnv 2 2 2 empty \$0-po 24 -11 -5 0 10 #fcfcfc #14e814 0;
#X obj 141 273 sel 0 1 2 3;
#X text 48 29 drumseq - 4-track variable-length multi-pattern step sequencer.;
#X obj 141 210 r drumseq;
#X obj 201 210 r drumseq2;
#N canvas 0 0 2560 1566 drumseq 0;
#X obj 243 9 inlet;
#X obj 238 322 outlet;
#X obj 280 322 outlet;
#N canvas 0 1080 2560 1568 toggles 0;
#X obj 11 121 r \$0-0x1s;
#X obj 71 121 r \$0-1x1s;
#X obj 131 121 r \$0-2x1s;
#X obj 191 121 r \$0-3x1s;
#X obj 251 121 r \$0-4x1s;
#X obj 311 121 r \$0-5x1s;
#X obj 371 121 r \$0-6x1s;
#X obj 431 121 r \$0-7x1s;
#X obj 491 121 r \$0-8x1s;
#X obj 551 121 r \$0-9x1s;
#X obj 611 121 r \$0-10x1s;
#X obj 677 121 r \$0-11x1s;
#X obj 743 121 r \$0-12x1s;
#X obj 809 121 r \$0-13x1s;
#X obj 875 121 r \$0-14x1s;
#X obj 941 121 r \$0-15x1s;
#X obj 11 239 r \$0-0x2s;
#X obj 71 239 r \$0-1x2s;
#X obj 131 239 r \$0-2x2s;
#X obj 191 239 r \$0-3x2s;
#X obj 251 239 r \$0-4x2s;
#X obj 311 239 r \$0-5x2s;
#X obj 371 239 r \$0-6x2s;
#X obj 431 239 r \$0-7x2s;
#X obj 491 239 r \$0-8x2s;
#X obj 551 239 r \$0-9x2s;
#X obj 611 239 r \$0-10x2s;
#X obj 677 239 r \$0-11x2s;
#X obj 743 239 r \$0-12x2s;
#X obj 809 239 r \$0-13x2s;
#X obj 875 239 r \$0-14x2s;
#X obj 941 239 r \$0-15x2s;
#X obj 11 357 r \$0-0x3s;
#X obj 71 357 r \$0-1x3s;
#X obj 131 357 r \$0-2x3s;
#X obj 191 357 r \$0-3x3s;
#X obj 251 357 r \$0-4x3s;
#X obj 311 357 r \$0-5x3s;
#X obj 371 357 r \$0-6x3s;
#X obj 431 357 r \$0-7x3s;
#X obj 491 357 r \$0-8x3s;
#X obj 551 357 r \$0-9x3s;
#X obj 611 357 r \$0-10x3s;
#X obj 677 357 r \$0-11x3s;
#X obj 743 357 r \$0-12x3s;
#X obj 809 357 r \$0-13x3s;
#X obj 875 357 r \$0-14x3s;
#X obj 941 357 r \$0-15x3s;
#X msg 11 141 0 1 \$1;
#X msg 71 141 1 1 \$1;
#X msg 131 141 2 1 \$1;
#X msg 191 141 3 1 \$1;
#X msg 251 141 4 1 \$1;
#X msg 311 141 5 1 \$1;
#X msg 371 141 6 1 \$1;
#X msg 431 141 7 1 \$1;
#X msg 491 141 8 1 \$1;
#X msg 551 141 9 1 \$1;
#X msg 611 141 10 1 \$1;
#X msg 677 141 11 1 \$1;
#X msg 743 141 12 1 \$1;
#X msg 809 141 13 1 \$1;
#X msg 875 141 14 1 \$1;
#X msg 941 141 15 1 \$1;
#X msg 11 259 0 2 \$1;
#X msg 71 259 1 2 \$1;
#X msg 131 259 2 2 \$1;
#X msg 191 259 3 2 \$1;
#X msg 251 259 4 2 \$1;
#X msg 311 259 5 2 \$1;
#X msg 371 259 6 2 \$1;
#X msg 431 259 7 2 \$1;
#X msg 491 259 8 2 \$1;
#X msg 551 259 9 2 \$1;
#X msg 611 259 10 2 \$1;
#X msg 677 259 11 2 \$1;
#X msg 743 259 12 2 \$1;
#X msg 809 259 13 2 \$1;
#X msg 875 259 14 2 \$1;
#X msg 941 259 15 2 \$1;
#X msg 941 377 15 3 \$1;
#X msg 11 377 0 3 \$1;
#X msg 71 377 1 3 \$1;
#X msg 131 377 2 3 \$1;
#X msg 191 377 3 3 \$1;
#X msg 251 377 4 3 \$1;
#X msg 311 377 5 3 \$1;
#X msg 371 377 6 3 \$1;
#X msg 431 377 7 3 \$1;
#X msg 491 377 8 3 \$1;
#X msg 551 377 9 3 \$1;
#X msg 611 377 10 3 \$1;
#X msg 677 377 11 3 \$1;
#X msg 743 377 12 3 \$1;
#X msg 809 377 13 3 \$1;
#X msg 875 377 14 3 \$1;
#X obj 523 506 r \$0-vpat;
#X msg 458 546 \; \$5-ds2 set \$1 \$2 \$4 \$3;
#X obj 458 526 pack f f f 0 \$0;
#X obj 458 466 unpack f f f;
#X obj 473 486 r \$0-vpato;
#X obj 458 506 +;
#N canvas 1920 30 1920 1050 mouse 0;
#X obj 40 10 inlet;
#X text 136 135 this subpatch enables you to click and drag to select or deselect multiple tgls without having to click each one individually.;
#X text 118 29 x \, y \, state;
#X obj 40 29 unpack f f f;
#X obj 82 547 pack f f f;
#X msg 82 566 set \$1 \$2 \$3;
#X obj 40 135 MouseState;
#X msg 37 111 poll;
#X msg 76 110 nopoll;
#X obj 37 331 +;
#X obj 13 331 f 0;
#X msg 28 231 0;
#X obj 60 259 spigot;
#X obj 64 204 t b f;
#X msg 93 240 1;
#X msg 121 240 0;
#X obj 13 350 / 13;
#X obj 13 397 +;
#X obj 13 416 clip 0 15;
#X obj 34 67 t b b f;
#X obj 40 154 sel 0;
#X obj 13 435 change;
#X obj 82 585 s \$0-ds2;
#X msg 198 300 reset \$1;
#X obj 13 477 interpolate;
#X obj 28 496 r \$0-vpato;
#X obj 13 515 +;
#X obj 13 369 int;
#X connect 0 0 3 0;
#X connect 3 0 19 0;
#X connect 3 1 4 1;
#X connect 3 2 4 2;
#X connect 4 0 5 0;
#X connect 5 0 22 0;
#X connect 6 0 20 0;
#X connect 6 3 13 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 9 1;
#X connect 10 0 16 0;
#X connect 11 0 10 1;
#X connect 11 0 9 1;
#X connect 12 0 9 0;
#X connect 13 0 14 0;
#X connect 13 1 12 0;
#X connect 14 0 12 1;
#X connect 15 0 12 1;
#X connect 16 0 27 0;
#X connect 17 0 18 0;
#X connect 18 0 21 0;
#X connect 19 0 7 0;
#X connect 19 1 11 0;
#X connect 19 2 17 1;
#X connect 19 2 23 0;
#X connect 20 0 15 0;
#X connect 20 0 8 0;
#X connect 21 0 24 0;
#X connect 23 0 24 0;
#X connect 24 0 26 0;
#X connect 25 0 26 1;
#X connect 26 0 4 0;
#X connect 27 0 17 0;
#X restore 370 516 pd mouse;
#X obj 11 5 r \$0-0x0s;
#X obj 71 5 r \$0-1x0s;
#X obj 131 5 r \$0-2x0s;
#X obj 191 5 r \$0-3x0s;
#X obj 251 5 r \$0-4x0s;
#X obj 311 5 r \$0-5x0s;
#X obj 371 5 r \$0-6x0s;
#X obj 431 5 r \$0-7x0s;
#X obj 491 5 r \$0-8x0s;
#X obj 551 5 r \$0-9x0s;
#X obj 611 5 r \$0-10x0s;
#X obj 677 5 r \$0-11x0s;
#X obj 743 5 r \$0-12x0s;
#X obj 809 5 r \$0-13x0s;
#X obj 875 5 r \$0-14x0s;
#X obj 941 5 r \$0-15x0s;
#X msg 941 25 15 0 \$1;
#X msg 11 25 0 0 \$1;
#X msg 71 25 1 0 \$1;
#X msg 131 25 2 0 \$1;
#X msg 191 25 3 0 \$1;
#X msg 251 25 4 0 \$1;
#X msg 311 25 5 0 \$1;
#X msg 371 25 6 0 \$1;
#X msg 431 25 7 0 \$1;
#X msg 491 25 8 0 \$1;
#X msg 551 25 9 0 \$1;
#X msg 611 25 10 0 \$1;
#X msg 677 25 11 0 \$1;
#X msg 743 25 12 0 \$1;
#X msg 809 25 13 0 \$1;
#X msg 875 25 14 0 \$1;
#X obj 458 94 t a;
#X obj 458 210 t a;
#X obj 458 328 t a;
#X obj 458 446 t a;
#X connect 0 0 48 0;
#X connect 1 0 49 0;
#X connect 2 0 50 0;
#X connect 3 0 51 0;
#X connect 4 0 52 0;
#X connect 5 0 53 0;
#X connect 6 0 54 0;
#X connect 7 0 55 0;
#X connect 8 0 56 0;
#X connect 9 0 57 0;
#X connect 10 0 58 0;
#X connect 11 0 59 0;
#X connect 12 0 60 0;
#X connect 13 0 61 0;
#X connect 14 0 62 0;
#X connect 15 0 63 0;
#X connect 16 0 64 0;
#X connect 17 0 65 0;
#X connect 18 0 66 0;
#X connect 19 0 67 0;
#X connect 20 0 68 0;
#X connect 21 0 69 0;
#X connect 22 0 70 0;
#X connect 23 0 71 0;
#X connect 24 0 72 0;
#X connect 25 0 73 0;
#X connect 26 0 74 0;
#X connect 27 0 75 0;
#X connect 28 0 76 0;
#X connect 29 0 77 0;
#X connect 30 0 78 0;
#X connect 31 0 79 0;
#X connect 32 0 81 0;
#X connect 33 0 82 0;
#X connect 34 0 83 0;
#X connect 35 0 84 0;
#X connect 36 0 85 0;
#X connect 37 0 86 0;
#X connect 38 0 87 0;
#X connect 39 0 88 0;
#X connect 40 0 89 0;
#X connect 41 0 90 0;
#X connect 42 0 91 0;
#X connect 43 0 92 0;
#X connect 44 0 93 0;
#X connect 45 0 94 0;
#X connect 46 0 95 0;
#X connect 47 0 80 0;
#X connect 48 0 136 0;
#X connect 49 0 136 0;
#X connect 50 0 136 0;
#X connect 51 0 136 0;
#X connect 52 0 136 0;
#X connect 53 0 136 0;
#X connect 54 0 136 0;
#X connect 55 0 136 0;
#X connect 56 0 136 0;
#X connect 57 0 136 0;
#X connect 58 0 136 0;
#X connect 59 0 136 0;
#X connect 60 0 136 0;
#X connect 61 0 136 0;
#X connect 62 0 136 0;
#X connect 63 0 136 0;
#X connect 64 0 137 0;
#X connect 65 0 137 0;
#X connect 66 0 137 0;
#X connect 67 0 137 0;
#X connect 68 0 137 0;
#X connect 69 0 137 0;
#X connect 70 0 137 0;
#X connect 71 0 137 0;
#X connect 72 0 137 0;
#X connect 73 0 137 0;
#X connect 74 0 137 0;
#X connect 75 0 137 0;
#X connect 76 0 137 0;
#X connect 77 0 137 0;
#X connect 78 0 137 0;
#X connect 79 0 137 0;
#X connect 80 0 138 0;
#X connect 81 0 138 0;
#X connect 82 0 138 0;
#X connect 83 0 138 0;
#X connect 84 0 138 0;
#X connect 85 0 138 0;
#X connect 86 0 138 0;
#X connect 87 0 138 0;
#X connect 88 0 138 0;
#X connect 89 0 138 0;
#X connect 90 0 138 0;
#X connect 91 0 138 0;
#X connect 92 0 138 0;
#X connect 93 0 138 0;
#X connect 94 0 138 0;
#X connect 95 0 138 0;
#X connect 96 0 98 3;
#X connect 98 0 97 0;
#X connect 99 0 101 0;
#X connect 99 1 98 1;
#X connect 99 2 98 2;
#X connect 100 0 101 1;
#X connect 101 0 98 0;
#X connect 103 0 120 0;
#X connect 104 0 121 0;
#X connect 105 0 122 0;
#X connect 106 0 123 0;
#X connect 107 0 124 0;
#X connect 108 0 125 0;
#X connect 109 0 126 0;
#X connect 110 0 127 0;
#X connect 111 0 128 0;
#X connect 112 0 129 0;
#X connect 113 0 130 0;
#X connect 114 0 131 0;
#X connect 115 0 132 0;
#X connect 116 0 133 0;
#X connect 117 0 134 0;
#X connect 118 0 119 0;
#X connect 119 0 135 0;
#X connect 120 0 135 0;
#X connect 121 0 135 0;
#X connect 122 0 135 0;
#X connect 123 0 135 0;
#X connect 124 0 135 0;
#X connect 125 0 135 0;
#X connect 126 0 135 0;
#X connect 127 0 135 0;
#X connect 128 0 135 0;
#X connect 129 0 135 0;
#X connect 130 0 135 0;
#X connect 131 0 135 0;
#X connect 132 0 135 0;
#X connect 133 0 135 0;
#X connect 134 0 135 0;
#X connect 135 0 136 0;
#X connect 136 0 137 0;
#X connect 137 0 138 0;
#X connect 138 0 99 0;
#X connect 138 0 102 0;
#X restore 58 45 pd toggles;
#N canvas 1920 30 2880 1588 set 0;
#X obj 177 38 inlet;
#X obj 177 105 prepent;
#X obj 177 57 t a a;
#X obj 177 124 route 3 4;
#X obj 216 86 list length;
#N canvas 1680 50 2880 1588 3-input 0;
#X obj 27 43 inlet;
#X obj 27 123 outlet;
#X obj 27 62 unpack f f f;
#X obj 27 104 pack f f f f;
#X obj 73 85 r \$0-vpat;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 2 2 3 3;
#X connect 3 0 1 0;
#X connect 4 0 3 2;
#X restore 154 164 pd 3-input;
#X text 219 38 x \, y \, value. or: x \, y \, pat \, value.;
#N canvas 1680 50 1600 871 step-refresh 0;
#X obj 37 37 inlet;
#X obj 106 96 r \$0-vpat;
#X obj 91 115 ==;
#X obj 58 134 spigot;
#X obj 37 56 unpack f f f f;
#X text 127 55 x \, y \, pattern \, value;
#X obj 12 94 pack f f \$0;
#X text 127 9 refresh the step if it is in the current pattern;
#X msg 58 153 \; \$3-ds2 step \$1 \$2;
#X connect 0 0 4 0;
#X connect 1 0 2 1;
#X connect 2 0 3 1;
#X connect 3 0 8 0;
#X connect 4 0 6 0;
#X connect 4 1 6 1;
#X connect 4 2 2 0;
#X connect 6 0 3 0;
#X restore 97 239 pd step-refresh;
#X obj 174 201 t a a a;
#X msg 193 349 \$4;
#X obj 268 349 + 100;
#X obj 283 311 +;
#X obj 256 234 unpack f f f f;
#X obj 310 253 * 512;
#X obj 283 292 * 128;
#X obj 268 330 +;
#X obj 193 368 tabwrite \$0-t;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 5 0;
#X connect 3 1 8 0;
#X connect 4 0 1 1;
#X connect 5 0 8 0;
#X connect 8 0 7 0;
#X connect 8 1 9 0;
#X connect 8 2 12 0;
#X connect 9 0 16 0;
#X connect 10 0 16 1;
#X connect 11 0 15 1;
#X connect 12 0 15 0;
#X connect 12 1 14 0;
#X connect 12 2 13 0;
#X connect 13 0 11 1;
#X connect 14 0 11 0;
#X connect 15 0 10 0;
#X restore 295 302 pd set;
#N canvas 1920 32 1920 1048 view 0;
#X obj 259 12 inlet;
#X obj 379 468 s \$0-vpat;
#X obj 416 238 s \$0-vpato;
#X msg 259 122 \$1 0;
#X text 480 237 view pattern offset;
#X obj 439 468 s \$0-vpatc;
#X msg 439 448 set \$1;
#X obj 259 32 route float bang;
#X obj 300 60 r \$0-vpat;
#X obj 352 417 t b f;
#X obj 312 535 pack f \$0;
#X msg 312 555 \; \$2-ds2 step \$1;
#X obj 312 495 until;
#X msg 312 475 16;
#X obj 285 80 f 0;
#X obj 259 102 clip 0 99;
#X obj 312 515 kount 16;
#X obj 371 367 s \$0-co;
#X msg 352 397 \$1;
#X msg 416 218 \$2;
#X text 310 11 view - adjust the view. syntax: patternNumber stepOffset;
#X msg 416 287 \$1;
#X obj 416 307 tabread \$0-t;
#X obj 352 175 t a a a;
#X obj 371 327 pack f f;
#X msg 371 307 \$2;
#X msg 371 347 color 0 13 \, label_font 0 10 \, label_pos -31 -5 \, label \$1/\$2;
#X connect 0 0 7 0;
#X connect 3 0 23 0;
#X connect 6 0 5 0;
#X connect 7 0 15 0;
#X connect 7 1 14 0;
#X connect 7 2 23 0;
#X connect 8 0 14 1;
#X connect 9 0 13 0;
#X connect 9 1 6 0;
#X connect 9 1 1 0;
#X connect 10 0 11 0;
#X connect 12 0 16 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X connect 16 0 10 0;
#X connect 18 0 9 0;
#X connect 19 0 2 0;
#X connect 21 0 22 0;
#X connect 22 0 24 1;
#X connect 23 0 18 0;
#X connect 23 1 25 0;
#X connect 23 2 19 0;
#X connect 23 2 21 0;
#X connect 24 0 26 0;
#X connect 25 0 24 0;
#X connect 26 0 17 0;
#X restore 321 282 pd view;
#N canvas 1920 30 2560 1568 step 0;
#X obj 226 43 inlet;
#X obj 300 719 s;
#X msg 315 363 symbol \$3-\$1x\$2r;
#X obj 104 675 > 0;
#X obj 218 276 t a a;
#X obj 258 444 r \$0-vpato;
#X text 259 33 <-- send a message like "x y" to this and it will refresh that tgl based on the value in the 0-patterns table.;
#X msg 104 713 set \$1;
#X obj 218 257 pack f f \$0;
#X obj 104 694 *;
#X obj 213 376 r \$0-vpat;
#X obj 92 357 t f f;
#X text 231 562 <-- 0 if out of range;
#X obj 92 319 unpack f f f;
#X obj 208 562 <;
#X obj 208 543 f;
#X text 296 56 ...alternatively \, you can just send the x value and all the steps for that column will be reset.;
#X obj 226 62 route float;
#X msg 162 98 4;
#X obj 162 117 until;
#X obj 162 174 f;
#X obj 162 155 t b f;
#N canvas 1680 50 1600 871 color 0;
#X obj 151 34 inlet;
#X obj 141 531 outlet;
#X obj 151 53 sel 0 1;
#X msg 141 110 5;
#X obj 209 465 list-idx;
#X msg 141 512 color \$1 22 13;
#X obj 185 121 r \$0-cstep;
#X obj 170 178 ==;
#X obj 170 102 f;
#X obj 170 197 sel 1 0;
#X obj 289 70 r \$0-vpato;
#X obj 234 87 +;
#X obj 204 34 inlet;
#X text 240 34 x;
#X obj 185 140 -;
#X obj 185 159 mod 16;
#X obj 254 317 inlet;
#X text 292 318 y;
#X text 194 178 is modulus of the current step;
#X text 38 33 outside of pattern;
#X obj 254 336 >= 2;
#X obj 195 249 >= 0;
#X obj 205 279 &&;
#X obj 232 241 <= 15;
#X obj 205 222 t f f;
#X obj 190 298 f;
#X text 214 297 0 if not in view;
#X obj 190 357 ||;
#X obj 190 376 sel 1 0;
#N canvas 0 50 1600 849 is-current-pat 0;
#X obj 88 113 inlet;
#X obj 103 132 r \$0-vpat;
#X obj 125 151 r \$0-playpat;
#X obj 103 221 ==;
#X obj 103 202 f;
#X obj 125 170 t b f;
#X obj 88 278 f;
#X obj 88 297 outlet;
#X obj 103 240 * -3;
#X obj 103 259 + 16;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 3 1;
#X connect 6 0 7 0;
#X connect 8 0 9 0;
#X connect 9 0 6 1;
#X restore 160 408 pd is-current-pat;
#X obj 254 427 % 8;
#X msg 209 446 1 1 1 1 10 10 10 10;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 8 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 14 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 25 0;
#X connect 9 1 31 0;
#X connect 10 0 11 1;
#X connect 10 0 14 1;
#X connect 11 0 30 0;
#X connect 12 0 11 0;
#X connect 12 0 8 1;
#X connect 14 0 15 0;
#X connect 14 0 24 0;
#X connect 15 0 7 1;
#X connect 16 0 20 0;
#X connect 20 0 27 1;
#X connect 21 0 22 0;
#X connect 22 0 25 1;
#X connect 23 0 22 1;
#X connect 24 0 21 0;
#X connect 24 1 23 0;
#X connect 25 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 28 1 31 0;
#X connect 29 0 5 0;
#X connect 30 0 4 1;
#X connect 31 0 4 0;
#X restore 248 625 pd color;
#X obj 92 427 t f b;
#X obj 104 637 + 100;
#X obj 119 599 +;
#X obj 161 541 * 512;
#X obj 119 580 * 128;
#X obj 104 618 +;
#X obj 92 522 unpack f f f;
#X obj 213 404 tabread \$0-t;
#X obj 104 656 tabread \$0-t;
#X obj 226 81 t b f;
#X obj 243 493 - 0;
#X obj 92 503 pack f f 0;
#X obj 92 408 + 0;
#X obj 218 238 % 16;
#X obj 289 119 unpack f f;
#X obj 162 136 kount 4;
#X connect 0 0 17 0;
#X connect 2 0 1 1;
#X connect 3 0 9 0;
#X connect 4 0 13 0;
#X connect 4 1 2 0;
#X connect 5 0 33 1;
#X connect 5 0 35 1;
#X connect 7 0 1 0;
#X connect 8 0 4 0;
#X connect 9 0 7 0;
#X connect 10 0 30 0;
#X connect 10 0 34 2;
#X connect 11 0 35 0;
#X connect 11 1 15 1;
#X connect 11 1 22 1;
#X connect 13 0 11 0;
#X connect 13 1 22 2;
#X connect 13 1 34 1;
#X connect 14 0 9 1;
#X connect 14 0 22 0;
#X connect 15 0 14 0;
#X connect 17 0 32 0;
#X connect 17 1 37 0;
#X connect 18 0 19 0;
#X connect 19 0 38 0;
#X connect 20 0 36 0;
#X connect 21 0 20 0;
#X connect 21 1 8 1;
#X connect 22 0 1 0;
#X connect 23 0 34 0;
#X connect 23 1 15 0;
#X connect 24 0 31 0;
#X connect 25 0 28 1;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 28 0 24 0;
#X connect 29 0 28 0;
#X connect 29 1 27 0;
#X connect 29 2 26 0;
#X connect 30 0 33 0;
#X connect 31 0 3 0;
#X connect 32 0 18 0;
#X connect 32 1 20 1;
#X connect 33 0 14 1;
#X connect 34 0 29 0;
#X connect 35 0 23 0;
#X connect 36 0 8 0;
#X connect 37 0 36 0;
#X connect 37 1 8 1;
#X connect 38 0 21 0;
#X restore 347 262 pd step;
#N canvas 1920 30 2560 1568 init 0;
#X obj 37 37 loadbang;
#X msg 76 75 100;
#X obj 76 94 until;
#X obj 37 284 symbol \$1;
#X obj 37 303 emptysymbol;
#X msg 100 322 load \$1;
#X obj 100 341 s \$0-ds2;
#X msg 56 216 0;
#X obj 56 265 s \$0-vpatc;
#X obj 76 132 t b f;
#X msg 76 178 16;
#X obj 76 197 tabwrite \$0-t;
#X obj 122 265 s \$0-vpat;
#X obj 76 113 kount 100;
#X obj 37 56 t b b b;
#X connect 0 0 14 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 7 0 12 0;
#X connect 9 0 10 0;
#X connect 9 1 11 1;
#X connect 10 0 11 0;
#X connect 13 0 9 0;
#X connect 14 0 3 0;
#X connect 14 1 7 0;
#X connect 14 2 1 0;
#X restore 58 25 pd init;
#N canvas 1920 32 2560 1566 resize 0;
#X obj 142 48 inlet;
#X text 140 32 resize a pattern;
#X obj 142 68 route float;
#X obj 136 93 r \$0-vpat;
#X msg 91 133 \$2 \$1;
#X obj 91 113 pack f 0;
#X text 177 46 pattern \, newsize. or just newsize.;
#X obj 205 201 s \$0-ds2;
#X msg 205 181 view;
#X obj 205 87 t b a a;
#X msg 299 141 \$1;
#X obj 224 161 tabwrite \$0-t;
#X msg 224 121 \$2;
#N canvas 1920 32 1920 1048 clip 0;
#X obj 37 37 inlet;
#X obj 113 80 > 128;
#X obj 37 80 clip 1 128;
#X obj 113 99 sel 1;
#X obj 37 150 outlet;
#X msg 113 118 patterns cannot exceed 128 steps - clipping resize request to 128;
#X obj 113 150 print drumseq;
#X connect 0 0 2 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X restore 224 141 pd clip;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 9 0;
#X connect 3 0 5 1;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 12 0;
#X connect 9 2 10 0;
#X connect 10 0 11 1;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X restore 373 242 pd resize;
#N canvas 0 0 2560 1566 seq 0;
#X obj 234 11 inlet;
#X obj 316 790 outlet;
#X obj 288 358 outlet;
#X obj 234 31 route bang float;
#X obj 291 160 r \$0-playpat;
#X obj 234 129 i;
#X obj 207 215 mod 16;
#X obj 234 149 t f b;
#N canvas 800 59 800 817 visual-feedback 0;
#X obj 135 40 inlet;
#X obj 215 116 s \$0-po;
#X msg 215 97 color 0 16 \, label_font 0 10 \, label_pos -11 -5 \, label \$1;
#X obj 162 151 f;
#X obj 135 112 t f b;
#X msg 162 227 step \$1;
#X obj 162 246 s \$0-ds2;
#X obj 177 170 r \$0-vpato;
#X obj 162 189 -;
#X obj 162 208 mod 16;
#X floatatom 128 209 5 0 0 0 - - - 0;
#X obj 215 78 makefilename %s;
#X connect 0 0 4 0;
#X connect 0 0 11 0;
#X connect 2 0 1 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 9 0 10 0;
#X connect 11 0 2 0;
#X restore 255 287 pd visual-feedback;
#X obj 255 247 t f f;
#X obj 282 267 s \$0-cstep;
#X obj 323 58 r \$0-next-step-set;
#N canvas 0 1620 2560 1566 queued-pattern-switch 0;
#X obj 451 290 r \$0-queue-pattern;
#X obj 336 290 inlet;
#X obj 358 545 s \$0-ds2;
#X msg 358 526 play \$1;
#X obj 373 290 r \$0-playpat;
#X obj 373 379 !=;
#X obj 358 404 f 0;
#X obj 358 426 sel 1;
#X obj 358 477 f;
#X obj 336 309 sel 0;
#X obj 451 309 t b f;
#X obj 388 500 outlet;
#X connect 0 0 10 0;
#X connect 1 0 9 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 8 0 11 0;
#X connect 9 0 6 0;
#X connect 10 0 5 0;
#X connect 10 1 8 1;
#X connect 10 1 5 1;
#X restore 416 320 pd queued-pattern-switch;
#X obj 234 95 int;
#X obj 258 95 + 1;
#X obj 207 426 until;
#X obj 207 381 f 4;
#X obj 316 484 - 3;
#X obj 316 504 abs;
#X obj 331 447 - 1;
#X obj 349 750 > 0;
#X obj 343 547 pack f f 0;
#X text 411 545 y \, x \, pat;
#X obj 316 524 t f f;
#X obj 400 527 r \$0-playpat;
#X obj 355 706 + 100;
#X obj 370 666 +;
#X obj 412 607 * 512;
#X obj 370 646 * 128;
#X obj 355 686 +;
#X msg 343 567 \$2 \$1 \$3;
#X obj 343 587 unpack f f f;
#X obj 355 726 tabread \$0-t;
#X text 360 403 <-- number of instruments;
#X obj 207 446 kount 4;
#X obj 316 770 spigot;
#X obj 207 318 t b f f;
#X obj 331 402 t a;
#X obj 276 198 tabread \$0-t;
#X obj 276 179 f 0;
#X text 368 164 playing pattern's length. has to be read for each step in case the pattern is resized while it's playing.;
#X connect 0 0 3 0;
#X connect 3 0 13 0;
#X connect 3 1 13 0;
#X connect 4 0 39 1;
#X connect 5 0 7 0;
#X connect 6 0 9 0;
#X connect 6 0 13 1;
#X connect 6 0 36 0;
#X connect 7 0 6 0;
#X connect 7 1 39 0;
#X connect 9 0 8 0;
#X connect 9 1 10 0;
#X connect 11 0 13 0;
#X connect 12 0 38 0;
#X connect 12 0 21 2;
#X connect 13 0 5 0;
#X connect 13 0 14 0;
#X connect 14 0 13 1;
#X connect 15 0 34 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 18 0 23 0;
#X connect 19 0 17 1;
#X connect 20 0 35 1;
#X connect 21 0 30 0;
#X connect 23 0 35 0;
#X connect 23 1 21 0;
#X connect 24 0 21 2;
#X connect 25 0 32 0;
#X connect 26 0 29 1;
#X connect 27 0 26 1;
#X connect 28 0 26 0;
#X connect 29 0 25 0;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 31 1 28 0;
#X connect 31 2 27 0;
#X connect 32 0 20 0;
#X connect 34 0 17 0;
#X connect 35 0 1 0;
#X connect 36 0 16 0;
#X connect 36 1 2 0;
#X connect 36 1 21 1;
#X connect 36 2 12 0;
#X connect 37 0 16 1;
#X connect 37 0 19 0;
#X connect 37 0 34 1;
#X connect 38 0 6 1;
#X connect 39 0 38 0;
#X restore 243 172 pd seq;
#N canvas 1920 32 2560 1566 play 0;
#X obj 422 36 inlet;
#X obj 422 153 s \$0-playpat;
#X obj 422 68 i;
#X obj 422 87 clip 0 99;
#X msg 433 115 set \$1;
#X obj 433 134 s \$0-playpatc;
#X obj 461 36 r \$0-vpat;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 6 0 2 1;
#X restore 399 222 pd play;
#N canvas 0 1080 2560 1568 load 0;
#X obj 212 142 inlet;
#X obj 212 161 symbol;
#X obj 185 262 s \$0-ds2;
#X msg 185 243 view;
#X obj 212 199 t b a;
#X obj 239 262 s \$0-t;
#X msg 212 180 read \$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 6 0 4 0;
#X restore 425 202 pd load;
#N canvas 1920 30 2560 1568 save 0;
#X obj 282 62 inlet;
#X obj 342 106 symbol;
#X obj 369 182 s \$0-t;
#X msg 369 163 write \$1;
#X msg 279 163 saved to \$1;
#X obj 279 182 print drumseq;
#X obj 342 133 t a a;
#X obj 282 81 route bang;
#X obj 282 106 symbol \$1;
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 1 3 0;
#X connect 7 0 8 0;
#X connect 7 1 1 0;
#X connect 8 0 6 0;
#X restore 451 182 pd save;
#N canvas 1920 32 2560 1568 controls 0;
#X obj 464 93 r \$0-view-pattern;
#X obj 579 201 s \$0-ds2;
#X msg 464 152 view \$1;
#X msg 619 151 play \$1;
#X obj 79 93 r \$0-shrink;
#X obj 153 93 r \$0-expand;
#X obj 79 112 t b b;
#X msg 192 131 2;
#X msg 106 131 0.5;
#X obj 153 112 t b b b;
#N canvas 1920 30 1920 1050 resize 0;
#X obj 76 198 inlet;
#X obj 160 255 inlet;
#X obj 76 323 i;
#X obj 76 304 *;
#X obj 76 342 max 1;
#X obj 76 380 s \$0-ds2;
#X msg 76 361 resize \$1;
#X obj 91 217 r \$0-vpat;
#X obj 76 236 i;
#X obj 76 255 tabread \$0-t;
#X connect 0 0 8 0;
#X connect 1 0 3 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X restore 79 210 pd resize;
#N canvas 1920 30 1920 1050 copy 0;
#X obj 290 155 inlet;
#X obj 422 155 inlet;
#X obj 575 176 r \$0-vpat;
#X obj 422 193 i;
#X obj 290 360 f;
#X obj 290 231 until;
#X msg 374 212 0;
#X obj 290 174 t b b;
#X obj 290 471 pack f f f;
#X obj 290 313 t b f b;
#X obj 290 379 until;
#X msg 350 332 0;
#X text 358 471 x \, y \, pat;
#X obj 290 819 s \$0-ds2;
#X obj 290 781 pack f f f f;
#X obj 290 490 t a a;
#X obj 317 509 unpack f f f;
#X obj 313 762 +;
#X msg 290 800 set \$2 \$3 \$4 \$1;
#X msg 290 212 4;
#X text 133 213 number of instruments -->;
#X obj 290 674 tabread \$0-t;
#X obj 290 655 + 100;
#X obj 305 617 +;
#X obj 359 547 * 512;
#X obj 305 598 * 128;
#X obj 290 636 +;
#X obj 290 528 unpack f f f;
#X obj 422 231 tabread \$0-t;
#X obj 290 422 i 0;
#X obj 314 422 + 1;
#X obj 290 274 i 0;
#X obj 314 274 + 1;
#X connect 0 0 7 0;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 2 0 8 2;
#X connect 3 0 28 0;
#X connect 4 0 10 0;
#X connect 5 0 31 0;
#X connect 6 0 31 0;
#X connect 7 0 19 0;
#X connect 7 1 6 0;
#X connect 8 0 15 0;
#X connect 9 0 4 0;
#X connect 9 1 8 1;
#X connect 9 2 11 0;
#X connect 10 0 29 0;
#X connect 11 0 29 0;
#X connect 14 0 18 0;
#X connect 15 0 27 0;
#X connect 15 1 16 0;
#X connect 16 0 17 0;
#X connect 16 1 14 2;
#X connect 16 2 14 3;
#X connect 17 0 14 1;
#X connect 18 0 13 0;
#X connect 19 0 5 0;
#X connect 21 0 14 0;
#X connect 22 0 21 0;
#X connect 23 0 26 1;
#X connect 24 0 23 1;
#X connect 25 0 23 0;
#X connect 26 0 22 0;
#X connect 27 0 26 0;
#X connect 27 1 25 0;
#X connect 27 2 24 0;
#X connect 28 0 4 1;
#X connect 28 0 17 1;
#X connect 29 0 8 0;
#X connect 29 0 30 0;
#X connect 30 0 29 1;
#X connect 31 0 9 0;
#X connect 31 0 32 0;
#X connect 32 0 31 1;
#X restore 153 210 pd copy;
#X obj 228 93 r \$0-back;
#X obj 341 93 r \$0-forward;
#X obj 19 93 r \$0-save;
#X obj 19 131 s \$0-ds2;
#X msg 19 112 save;
#N canvas 1920 50 1920 1050 shifted 0;
#X obj 401 194 inlet;
#X obj 461 194 inlet;
#X obj 401 290 route 0 1;
#X obj 451 321 outlet;
#X obj 401 321 outlet;
#X obj 401 232 list prepend;
#X obj 401 261 list trim;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 228 127 pd shifted;
#N canvas 1680 50 1600 871 shift-key 0;
#X obj 307 241 outlet;
#X obj 307 131 keyname;
#X obj 307 222 &&;
#X obj 346 150 sel Shift_L Shift_R;
#X msg 346 181 1;
#X msg 457 181 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 1 4 0;
#X connect 3 2 5 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X restore 349 8 pd shift-key;
#N canvas 1920 50 1920 1050 shifted 0;
#X obj 407 233 inlet;
#X obj 467 233 inlet;
#X obj 407 329 route 0 1;
#X obj 457 360 outlet;
#X obj 407 360 outlet;
#X obj 407 271 list prepend;
#X obj 407 300 list trim;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 341 124 pd shifted;
#N canvas 1920 32 1920 1048 next-steps 0;
#X obj 362 304 inlet;
#X obj 377 323 r \$0-vpato;
#X obj 412 517 s \$0-ds2;
#X obj 362 342 i;
#X msg 412 498 view \$2 \$1;
#X obj 412 479 pack f f;
#X obj 362 361 + 16;
#X obj 362 380 t f f;
#X obj 362 415 <;
#X obj 507 332 r \$0-vpat;
#X obj 362 434 sel 1;
#X obj 412 460 f;
#X obj 404 382 tabread \$0-t;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 11 1;
#X connect 8 0 10 0;
#X connect 9 0 5 1;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 8 1;
#X restore 341 201 pd next-steps;
#N canvas 1920 30 1920 1050 next-pattern 0;
#X obj 37 37 inlet;
#X obj 60 56 r \$0-vpat;
#X obj 60 75 + 1;
#X obj 37 138 s \$0-ds2;
#X msg 37 119 view \$1;
#X obj 37 100 i;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 5 1;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X restore 398 178 pd next-pattern;
#N canvas 1920 30 1920 1050 prev-steps 0;
#X obj 349 323 inlet;
#X obj 349 399 max 0;
#X obj 349 380 - 16;
#X obj 349 456 s \$0-ds2;
#X obj 349 361 i;
#X msg 349 437 view \$2 \$1;
#X obj 349 418 pack f f;
#X obj 394 399 r \$0-vpat;
#X obj 364 342 r \$0-vpato;
#X connect 0 0 4 0;
#X connect 1 0 6 0;
#X connect 2 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 6 1;
#X connect 8 0 4 1;
#X restore 228 201 pd prev-steps;
#N canvas 1920 30 1920 1050 prev-pattern 0;
#X obj 37 37 inlet;
#X obj 60 56 r \$0-vpat;
#X obj 37 138 s \$0-ds2;
#X msg 37 119 view \$1;
#X obj 37 100 i;
#X obj 60 75 - 1;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 1;
#X restore 285 178 pd prev-pattern;
#X obj 619 93 r \$0-play-pattern;
#X obj 572 93 r \$0-go;
#N canvas 1920 50 1920 1050 go 0;
#X obj 401 194 inlet;
#X obj 461 194 inlet;
#X obj 401 290 route 0 1;
#X obj 401 441 s \$0-ds2;
#X msg 453 372 queue \$1;
#X obj 453 353 i;
#X obj 468 313 r \$0-vpat;
#X obj 401 353 i;
#X msg 401 372 play \$1;
#X obj 401 232 list prepend;
#X obj 401 261 list trim;
#X connect 0 0 9 0;
#X connect 1 0 9 1;
#X connect 2 0 7 0;
#X connect 2 1 5 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X restore 572 121 pd go;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 6 1 8 0;
#X connect 7 0 10 1;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 9 1 10 0;
#X connect 9 2 7 0;
#X connect 9 2 11 1;
#X connect 12 0 17 0;
#X connect 13 0 19 0;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 17 0 22 0;
#X connect 17 1 23 0;
#X connect 18 0 17 1;
#X connect 18 0 19 1;
#X connect 18 0 26 1;
#X connect 19 0 20 0;
#X connect 19 1 21 0;
#X connect 24 0 3 0;
#X connect 25 0 26 0;
#X restore 58 65 pd controls;
#X obj 58 85 table \$0-t 50787;
#X text 457 283 each pattern can have a maximum of 128 steps.;
#N canvas 1920 32 2560 1566 next 0;
#X obj 466 98 inlet;
#X obj 466 146 s \$0-next-step-set;
#X text 547 103 set the next step. useful for keeping the sequencer in sync when you're using bangs to drive it.;
#X connect 0 0 1 0;
#X restore 477 162 pd next;
#N canvas 1920 30 2560 1566 queue 0;
#X obj 372 137 inlet;
#X obj 372 156 s \$0-queue-pattern;
#X connect 0 0 1 0;
#X restore 503 142 pd queue;
#N canvas 1920 32 2880 1588 copy 0;
#X obj 157 44 inlet;
#X obj 157 76 route bang float list;
#X text 320 30 copy FROM TO;
#X obj 285 254 !=;
#X obj 285 224 unpack f f;
#X obj 258 277 spigot;
#X text 300 278 don't bother copying a pattern to itself.;
#X obj 298 551 + 100;
#X obj 298 530 +;
#X obj 313 509 * 512;
#X obj 298 572 tabread \$0-t;
#X obj 258 298 unpack f f;
#X msg 258 396 512;
#X obj 258 417 until;
#X obj 258 375 t b f;
#X obj 373 616 + 100;
#X obj 373 595 +;
#X obj 388 574 * 512;
#X obj 298 637 tabwrite \$0-t;
#X obj 298 479 t f f;
#X obj 362 401 tabread \$0-t;
#X obj 362 422 tabwrite \$0-t;
#X obj 195 277 r \$0-vpat;
#X obj 145 272 sel 0;
#X obj 145 295 f 0;
#X obj 149 139 r \$0-vpat;
#X obj 104 160 pack 0 0;
#X obj 59 95 r \$0-vpat;
#X obj 59 117 - 1;
#X obj 44 139 f;
#X text 320 52 or copy FROM - TO defaults to the currently-viewed pattern;
#X text 320 77 or copy - FROM defaults to pattern before the currently-viewed \, and TO defaults to the current.;
#X obj 239 125 unpack f f;
#X obj 239 148 clip 0 99;
#X obj 239 171 pack f f;
#X obj 299 148 clip 0 99;
#X obj 239 193 t a a a;
#X obj 154 223 unpack f f;
#X obj 224 445 f 0;
#X obj 252 445 + 1;
#X obj 278 445 % 512;
#X obj 145 318 s \$0-view-pattern;
#X connect 0 0 1 0;
#X connect 1 0 29 0;
#X connect 1 1 26 0;
#X connect 1 2 32 0;
#X connect 3 0 5 1;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 11 0;
#X connect 7 0 10 0;
#X connect 8 0 7 0;
#X connect 9 0 8 1;
#X connect 10 0 18 0;
#X connect 11 0 20 0;
#X connect 11 0 14 0;
#X connect 11 1 21 1;
#X connect 11 1 17 0;
#X connect 12 0 13 0;
#X connect 13 0 38 0;
#X connect 14 0 12 0;
#X connect 14 1 9 0;
#X connect 15 0 18 1;
#X connect 16 0 15 0;
#X connect 17 0 16 1;
#X connect 19 0 8 0;
#X connect 19 1 16 0;
#X connect 20 0 21 0;
#X connect 22 0 23 1;
#X connect 22 0 24 1;
#X connect 23 0 24 0;
#X connect 24 0 41 0;
#X connect 25 0 26 1;
#X connect 26 0 1 0;
#X connect 27 0 28 0;
#X connect 28 0 29 1;
#X connect 29 0 1 0;
#X connect 32 0 33 0;
#X connect 32 1 35 0;
#X connect 33 0 34 0;
#X connect 34 0 36 0;
#X connect 35 0 34 1;
#X connect 36 0 37 0;
#X connect 36 1 5 0;
#X connect 36 2 4 0;
#X connect 37 1 23 0;
#X connect 38 0 19 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 38 1;
#X restore 529 122 pd copy;
#N canvas 1920 32 2560 1568 unknown 0;
#X obj 64 54 inlet;
#X obj 144 120 print drumseq;
#X msg 144 100 "\$1": unsupported input.;
#X obj 64 76 route pat;
#X msg 64 98 view \$1;
#X obj 64 120 s \$0-drumseq;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X restore 582 82 pd unknown;
#X obj 243 49 route bang float set view step resize play load save next queue copy e;
#N canvas 1920 32 2560 1568 e 0;
#X obj 61 30 inlet;
#X msg 61 52 "e" message is not yet supported.;
#X obj 61 75 print;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 555 102 pd e;
#X text 456 306 there are 4 instruments.;
#X text 177 419 0-vpato - x offset of the view into the current pattern.;
#X text 177 401 0-playpat - currently playing pattern.;
#X text 178 384 0-vpat - currently viewed pattern.;
#N canvas 0 1080 2560 1566 state 0;
#X obj 223 310 savestate;
#X obj 242 214 tabread \$0-t;
#X msg 242 145 50787;
#X obj 242 168 until;
#X obj 242 191 count 50787;
#X obj 223 274 list store;
#X msg 338 209 list;
#X msg 242 237 append \$1;
#X obj 223 111 t b b b;
#X obj 431 206 t b;
#X obj 223 333 t a b;
#X obj 223 356 drip;
#X obj 223 379 pack f f;
#X msg 223 402;
#X connect 0 0 10 0;
#X connect 0 1 9 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 8 1 2 0;
#X connect 8 2 6 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X restore 664 135 pd state;
#X text 498 181 save all patterns to the specified file.;
#X text 474 201 load patterns from the specified file.;
#X obj 327 9 r \$0-ds2;
#X obj 279 9 r \$0-ds;
#X obj 381 9 r \$0-drumseq;
#X connect 0 0 20 0;
#X connect 9 0 2 0;
#X connect 9 1 1 0;
#X connect 20 0 9 0;
#X connect 20 1 9 0;
#X connect 20 2 4 0;
#X connect 20 3 5 0;
#X connect 20 4 6 0;
#X connect 20 5 8 0;
#X connect 20 6 10 0;
#X connect 20 7 11 0;
#X connect 20 8 12 0;
#X connect 20 9 16 0;
#X connect 20 10 17 0;
#X connect 20 11 18 0;
#X connect 20 12 21 0;
#X connect 20 13 19 0;
#X connect 29 0 20 0;
#X connect 30 0 20 0;
#X connect 31 0 20 0;
#X restore 141 245 pd drumseq;
#X text 34 559 1st numberbox - The pattern currently being viewed.;
#X text 34 591 2nd numberbox - The pattern currently being played.;
#X text 34 486 -- - Halve the current pattern's length.;
#X text 34 501 ++ - Double the current pattern's length.;
#X text 34 517 << - View the previous 16 steps (shift to view previous pattern).;
#X text 34 543 >> - View the next 16 steps (shift to view next pattern).;
#X text 34 574 go - Play the currently viewed pattern (shift to queue it).;
#X text 25 469 The GUI controls are:;
#X text 419 453 The first 4 outlets represent each track. When a step is triggered \, if that row is enabled for that step \, the outlet will output a bang. The 5th and final outlet outputs the number of the current step \, plus a bang whenever the current step is the last in the pattern. This is useful when the sequencer is being driven by bangs and you don't otherwise know its current step or how long the current pattern is.;
#X text 425 26 There is only one inlet \, which supports the following messages:;
#X text 434 64 bang - Advance to and trigger the next step in the pattern.;
#X text 434 80 number - Go to and trigger the specified step in the pattern.;
#X text 433 146 play PATTERN - Set the currently-playing pattern to PATTERN.;
#X text 433 167 queue PATTERN - Queue PATTERN to be switched to at the end of the current.;
#X text 27 356 drumseq is a 4-track step sequencer. It supports up to 99 patterns of lengths up to 128 steps.;
#X text 433 114 next STEP - Set the next step to be played (useful if you're driving the sequencer with bangs).;
#X text 26 399 Each pattern can be set to an arbitrary length (up to 128) \, or can be halved or doubled in length using the -- and ++ buttons. Doubling copies the existing steps over to the new half.;
#X text 431 235 set X Y PATTERN VALUE - Set the value of step X in track Y to VALUE in PATTERN. PATTERN can be omitted to set in the viewed pattern.;
#X text 431 283 copy FROM TO - Copy pattern number FROM to pattern number TO. You can omit TO to copy to the viewed pattern \, or omit both to copy from the previous pattern to the viewed pattern.;
#X text 431 197 resize PATTERN SIZE - Set PATTERN's length to SIZE. PATTERN can be omitted to set the length of the viewed pattern.;
#X text 433 348 e - Not yet implemented. Intended to be a micro-language to quickly generate/alter patterns.;
#X text 431 384 save FILENAME - Write all pattern data to FILENAME.;
#X text 431 408 load FILENAME - Load pattern data from FILENAME.;
#X text 25 631 Above the GUI controls \, the following information is shown:;
#X text 36 706 In green: The most recently-played step.;
#X text 36 655 In red: OFFSET/LENGTH \, where OFFSET represents the first step being shown \, and LENGTH is the total number of steps in the viewed pattern.;
#X connect 0 0 84 0;
#X connect 70 0 84 0;
#X connect 80 0 1 0;
#X connect 80 1 2 0;
#X connect 80 2 3 0;
#X connect 80 3 4 0;
#X connect 82 0 84 0;
#X connect 83 0 84 0;
#X connect 84 0 80 0;
#X connect 84 1 5 0;
#X coords 0 -1 1 1 208 69 1 100 100;
