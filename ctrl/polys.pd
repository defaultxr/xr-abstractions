#N canvas 800 29 2560 1566 10;
#X obj 181 99 t a a;
#X obj 208 118 list length;
#X obj 169 137 prepent;
#X obj 169 156 route 1 2 3;
#X text 399 28 polys - my own version of [poly]. this improves upon the original by allowing multiple of the same note to play without interfereing with each other.;
#X msg 66 191 \$1 127 a;
#X msg 124 191 \$1 \$2 a;
#X obj 211 194 route 0;
#N canvas 800 29 2560 1566 off 0;
#X obj 229 101 inlet;
#X obj 268 217 outlet;
#X obj 229 120 route a;
#X text 470 197 remove a specific voice;
#X obj 103 180 print polys;
#X msg 103 148 hey! you didn't provide a voice number to turn off! maybe you should just use [poly] instead!;
#X obj 363 263 outlet;
#X text 267 97 voice \, note;
#X msg 363 244 \$1 \$2 0;
#X msg 268 198 delete \$1 1 \, insert \$1 -1 \, bang;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 9 0;
#X connect 2 1 8 0;
#X connect 5 0 4 0;
#X connect 8 0 6 0;
#X connect 9 0 1 0;
#X restore 189 233 pd off;
#N canvas 800 29 2560 1566 on 0;
#X obj 91 59 inlet;
#X obj 91 307 outlet;
#X text 127 56 gets data in the form: "velocity voice note";
#X obj 91 127 route a;
#X msg 91 108 \$2 \$3;
#X obj 303 305 outlet;
#X obj 369 138 inlet;
#X obj 306 157 list-find-1;
#X msg 306 138 -1;
#X obj 316 233 f;
#X msg 100 215 \$2;
#X obj 91 250 pack f f f;
#X obj 91 269 t a a;
#X msg 157 99 \$1;
#X obj 91 78 t a a;
#X text 156 250 note \, velocity \, voice;
#X msg 303 286 \$3 \$1 \$2;
#X obj 130 168 t a a;
#X msg 157 187 \$1;
#X obj 91 146 t f b;
#X obj 369 244 s \$0-stealing;
#X obj 306 176 sel -1;
#X msg 91 288 delete \$3 1 \, insert \$3 \$1 \, bang;
#X connect 0 0 14 0;
#X connect 3 0 19 0;
#X connect 3 1 17 0;
#X connect 4 0 3 0;
#X connect 6 0 7 1;
#X connect 7 0 21 0;
#X connect 8 0 7 0;
#X connect 9 0 11 2;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 22 0;
#X connect 12 1 16 0;
#X connect 13 0 11 1;
#X connect 14 0 4 0;
#X connect 14 1 13 0;
#X connect 16 0 5 0;
#X connect 17 0 10 0;
#X connect 17 1 18 0;
#X connect 18 0 11 2;
#X connect 19 0 11 0;
#X connect 19 1 8 0;
#X connect 21 0 20 0;
#X connect 21 1 9 0;
#X connect 22 0 1 0;
#X restore 272 233 pd on;
#X text 399 131 for compatibility with [poly] \, voices are indexed from 1 for some reason.;
#N canvas 0 29 2560 1566 initialize 0;
#X obj 247 77 loadbang;
#X obj 247 216 outlet;
#X obj 247 159 until;
#X obj 247 96 f \$1;
#X obj 247 115 sel 0;
#X msg 247 134 4;
#X obj 247 178 count \$1;
#X obj 203 121 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 247 197 insert \$1 -1;
#X connect 0 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 2 0;
#X connect 5 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 1 0;
#X restore 309 254 pd initialize;
#X text 399 72 note that in order to turn a note off \, you should provide a voice number (as the third element of the message). currently nothing will happen if you don't provide a voice number.;
#X obj 222 375 outlet;
#X text 265 374 output is in the form "voice note velocity";
#X obj 181 80 inlet;
#X obj 222 299 unpack f f f;
#X obj 222 356 pack f f f;
#X obj 222 318 + 1;
#X text 141 56 input format: note velocity voice;
#N canvas 800 29 800 849 ve-vo-no 0;
#X obj 108 46 inlet;
#X msg 109 203 \$2 \$3 \$1;
#X text 167 201 velocity \, voice \, note;
#X obj 109 283 outlet;
#X obj 109 222 unpack f f f;
#X obj 109 264 pack f f f;
#X obj 143 241 - 1;
#X obj 108 65 t a a;
#X obj 135 103 sel a;
#X obj 162 122 bang;
#X obj 84 165 prepent a;
#X msg 135 122 a;
#X msg 162 141 b;
#X obj 84 184 route a b;
#X msg 43 242 \$2 \$3 \$1;
#X msg 135 84 symbol \$3;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 5 2;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 7 0 10 0;
#X connect 7 1 15 0;
#X connect 8 0 11 0;
#X connect 8 1 9 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 14 0;
#X connect 13 1 1 0;
#X connect 14 0 3 0;
#X connect 15 0 8 0;
#X restore 211 175 pd ve-vo-no;
#X obj 389 183 bng 15 250 50 0 empty \$0-stealing empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 407 177 if this bng is blinking \, that means you're trying to use more voices than are available. voice stealing is not yet implemented \, so try either [poly] or increase the number of voices in your synth!;
#X obj 272 277 list store;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 3 2 20 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 23 0;
#X connect 8 1 16 0;
#X connect 9 0 23 0;
#X connect 9 1 16 0;
#X connect 11 0 23 0;
#X connect 15 0 0 0;
#X connect 16 0 18 0;
#X connect 16 1 17 1;
#X connect 16 2 17 2;
#X connect 17 0 13 0;
#X connect 18 0 17 0;
#X connect 20 0 7 0;
#X connect 23 0 9 1;
